<div class="relative card bg-white border border-base-200/60 shadow-sm hover:shadow-md hover:-translate-y-1 transition-all duration-300" data-controller="review-chart">
  <%# カード全体をリンクにするための透明なリンク要素 %>
  <%= link_to "", review_path(review), class: "absolute inset-0 z-20", aria: { hidden: true } %>

  <%# グラフエリア %>
  <div class="bg-base-100 p-4 flex items-center justify-center border-b border-base-100 relative rounded-t-2xl" style="height: 200px;">
    <div style="width: 100%; height: 100%; max-width: 180px; max-height: 180px;">
      <canvas
        data-review-chart-target="canvas"
        data-tempo="<%= review.tempo_rating %>"
        data-fingering="<%= review.fingering_technique_rating %>"
        data-plucking="<%= review.plucking_technique_rating %>"
        data-expression="<%= review.expression_rating %>"
        data-memorization="<%= review.memorization_rating %>"
      ></canvas>
    </div>
  </div>

  <div class="card-body">
    <div class="mb-4 space-y-2">
      <div class="flex items-center gap-2">
        <div class="bg-primary/10 text-primary rounded-full w-8 h-8 flex items-center justify-center">
          <%= inline_svg_tag("user.svg") %>
        </div>
        <div>
          <p class="text-xs text-neutral/60 font-medium">投稿者</p>
          <p class="text-sm font-medium text-primary"><%= review.user.name %></p>
        </div>
      </div>
      <div class="flex items-center gap-2">
        <div class="w-8 h-8 flex items-center justify-center">
          <%= inline_svg_tag("calendar.svg") %>
        </div>
        <div>
          <p class="text-xs text-neutral/60 font-medium">投稿日</p>
          <p class="text-xs text-neutral/80"><%= format_date(review.created_at) %></p>
        </div>
      </div>
    </div>

    <div class="flex items-center gap-2 mb-4 bg-base-200/50 p-2 rounded-lg">
      <span class="text-xs font-bold text-neutral/70">総合難易度</span>
      <%= star_rating_display(review.overall_rating, size: "sm") %>
      <span class="text-sm font-medium text-neutral"><%= review.overall_rating %></span>
    </div>

    <div class="text-center text-primary text-sm font-medium py-2 px-4">詳細を見る</div>
  </div>
</div>
